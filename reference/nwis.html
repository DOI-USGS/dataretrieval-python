

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>dataretrieval.nwis &mdash; dataretrieval 0.7 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="dataretrieval.streamstats" href="streamstats.html" />
    <link rel="prev" title="dataretrieval.nadp" href="nadp.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> dataretrieval
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../meta/installing.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meta/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meta/license.html">License and Disclaimer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nadp.html">dataretrieval.nadp</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">dataretrieval.nwis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis._read_json"><code class="docutils literal notranslate"><span class="pre">_read_json()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis._read_rdb"><code class="docutils literal notranslate"><span class="pre">_read_rdb()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis._set_metadata"><code class="docutils literal notranslate"><span class="pre">_set_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.format_response"><code class="docutils literal notranslate"><span class="pre">format_response()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_discharge_measurements"><code class="docutils literal notranslate"><span class="pre">get_discharge_measurements()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_discharge_peaks"><code class="docutils literal notranslate"><span class="pre">get_discharge_peaks()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_dv"><code class="docutils literal notranslate"><span class="pre">get_dv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_gwlevels"><code class="docutils literal notranslate"><span class="pre">get_gwlevels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_info"><code class="docutils literal notranslate"><span class="pre">get_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_iv"><code class="docutils literal notranslate"><span class="pre">get_iv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_pmcodes"><code class="docutils literal notranslate"><span class="pre">get_pmcodes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_qwdata"><code class="docutils literal notranslate"><span class="pre">get_qwdata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_ratings"><code class="docutils literal notranslate"><span class="pre">get_ratings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_record"><code class="docutils literal notranslate"><span class="pre">get_record()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_stats"><code class="docutils literal notranslate"><span class="pre">get_stats()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.get_water_use"><code class="docutils literal notranslate"><span class="pre">get_water_use()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.preformat_peaks_response"><code class="docutils literal notranslate"><span class="pre">preformat_peaks_response()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.query_waterdata"><code class="docutils literal notranslate"><span class="pre">query_waterdata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.query_waterservices"><code class="docutils literal notranslate"><span class="pre">query_waterservices()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataretrieval.nwis.what_sites"><code class="docutils literal notranslate"><span class="pre">what_sites()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="streamstats.html">dataretrieval.streamstats</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">dataretrieval.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="waterwatch.html">dataretrieval.waterwatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="wqp.html">dataretrieval.wqp</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dataretrieval</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">API reference</a> &raquo;</li>
        
      <li>dataretrieval.nwis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/nwis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-dataretrieval.nwis">
<span id="dataretrieval-nwis"></span><h1>dataretrieval.nwis<a class="headerlink" href="#module-dataretrieval.nwis" title="Permalink to this heading">Â¶</a></h1>
<p>Functions for downloading data from the <a class="reference external" href="https://waterdata.usgs.gov/nwis">National Water Information System (NWIS)</a>.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Create a test to check whether functions pull multiple sites</p></li>
<li><p>Work on multi-index capabilities.</p></li>
<li><p>Check that all timezones are handled properly for each service.</p></li>
</ul>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis._read_json">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">_read_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#_read_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis._read_json" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reads a NWIS Water Services formatted JSON into a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>json</strong> (<em>dict</em>) â A JSON dictionary response to be parsed into a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis._read_rdb">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">_read_rdb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rdb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#_read_rdb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis._read_rdb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Convert NWIS rdb table into a <code class="docutils literal notranslate"><span class="pre">pandas.dataframe</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rdb</strong> (<em>string</em>) â A string representation of an rdb table</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df</strong> â A formatted pandas data frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">pandas.dataframe</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis._set_metadata">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">_set_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#_set_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis._set_metadata" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generates a standard set of metadata informed by the response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>Response</em>) â Response object from requests module</p></li>
<li><p><strong>parameters</strong> (<em>unpacked dictionary</em>) â Unpacked dictionary of the parameters supplied in the request</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>md</strong> â A <code class="docutils literal notranslate"><span class="pre">dataretrieval</span></code> custom <a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a> object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.format_response">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">format_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#format_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.format_response" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Setup index for response from query.</p>
<p>This function formats the response from the NWIS web services, in
particular it sets the index of the data frame. This function tries to
convert the NWIS response into pandas datetime values localized to UTC,
and if possible, uses these timestamps to define the data frame index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â The data frame to format</p></li>
<li><p><strong>service</strong> (<em>string</em>) â The NWIS service that was queried, important because the âpeaksâ
service returns a different format than the other services.</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â Additional keyword arguments, e.g., âmulti_indexâ</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df</strong> â The formatted data frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_discharge_measurements">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_discharge_measurements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_discharge_measurements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_discharge_measurements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get discharge measurements from the waterdata service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>array</em><em> of </em><em>strings</em>) â If the qwdata parameter site_no is supplied, it will overwrite the
sites parameter</p></li>
<li><p><strong>start</strong> (<em>string</em>) â If the qwdata parameter begin_date is supplied, it will overwrite the
start parameter (YYYY-MM-DD)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â If the qwdata parameter end_date is supplied, it will overwrite the
end parameter (YYYY-MM-DD)</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get discharge measurements for site 05114000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_discharge_measurements</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;05114000&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2000-01-01&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2000-01-30&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get discharge measurements for sites in Alaska</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_discharge_measurements</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2012-01-09&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2012-01-10&#39;</span><span class="p">,</span> <span class="n">stateCd</span><span class="o">=</span><span class="s1">&#39;AK&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_discharge_peaks">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_discharge_peaks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_discharge_peaks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_discharge_peaks" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get discharge peaks from the waterdata service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>array</em><em> of </em><em>strings</em>) â If the waterdata parameter site_no is supplied, it will overwrite the
sites parameter</p></li>
<li><p><strong>start</strong> (<em>string</em>) â If the waterdata parameter begin_date is supplied, it will overwrite
the start parameter (YYYY-MM-DD)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â If the waterdata parameter end_date is supplied, it will overwrite
the end parameter (YYYY-MM-DD)</p></li>
<li><p><strong>multi_index</strong> (<em>boolean</em>) â If False, a dataframe with a single-level index (datetime) is returned</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get discharge peaks for site 01491000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_discharge_peaks</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01491000&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;1980-01-01&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1990-01-01&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get discharge peaks for sites in Hawaii</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_discharge_peaks</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">start</span><span class="o">=</span><span class="s1">&#39;1980-01-01&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1980-01-02&#39;</span><span class="p">,</span> <span class="n">stateCd</span><span class="o">=</span><span class="s1">&#39;HI&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_dv">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_dv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_dv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_dv" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get daily values data from NWIS and return it as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>string</em>) â If the waterdata parameter startDT is supplied, it will overwrite the
start parameter (YYYY-MM-DD)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â If the waterdata parameter endDT is supplied, it will overwrite the
end parameter (YYYY-MM-DD)</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get mean statistic daily values for site 04085427</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_dv</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;04085427&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2012-01-01&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2012-06-30&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">statCd</span><span class="o">=</span><span class="s1">&#39;00003&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the latest daily values for site 01646500</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_dv</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01646500&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_gwlevels">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_gwlevels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1851-01-01'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_gwlevels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_gwlevels" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Queries the groundwater level service from waterservices</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>string</em>) â If the waterdata parameter begin_date is supplied, it will overwrite
the start parameter (defaults to â1851-01-01â)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â If the waterdata parameter end_date is supplied, it will overwrite the
end parameter (YYYY-MM-DD)</p></li>
<li><p><strong>multi_index</strong> (<em>boolean</em>) â If False, a dataframe with a single-level index (datetime) is returned</p></li>
<li><p><strong>datetime_index</strong> (<em>boolean</em>) â If True, create a datetime index</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get groundwater levels for site 434400121275801</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_gwlevels</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s1">&#39;434400121275801&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_info">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_info" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get site description information from NWIS.</p>
<p><strong>Note:</strong> <em>Must specify one major parameter.</em></p>
<p>For additional parameter options see
<a class="reference external" href="https://waterservices.usgs.gov/rest/Site-Service.html#stateCd">https://waterservices.usgs.gov/rest/Site-Service.html#stateCd</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>string</em><em> or </em><em>list</em>) â A list of site numbers. Sites may be prefixed with an optional agency
code followed by a colon.</p></li>
<li><p><strong>stateCd</strong> (<em>string</em>) â U.S. postal service (2-digit) state code. Only 1 state can be specified
per request.</p></li>
<li><p><strong>huc</strong> (<em>string</em><em> or </em><em>list</em>) â A list of hydrologic unit codes (HUC) or aggregated watersheds. Only 1
major HUC can be specified per request, or up to 10 minor HUCs. A major
HUC has two digits.</p></li>
<li><p><strong>bBox</strong> (<em>list</em>) â A contiguous range of decimal latitude and longitude, starting with the
west longitude, then the south latitude, then the east longitude, and
then the north latitude with each value separated by a comma. The
product of the range of latitude range and longitude cannot exceed 25
degrees. Whole or decimal degrees must be specified, up to six digits
of precision. Minutes and seconds are not allowed.</p></li>
<li><p><strong>countyCd</strong> (<em>string</em><em> or </em><em>list</em>) â A list of county numbers, in a 5 digit numeric format. The first two
digits of a countyâs code are the FIPS State Code.
(url: <a class="reference external" href="https://help.waterdata.usgs.gov/code/county_query?fmt=html">https://help.waterdata.usgs.gov/code/county_query?fmt=html</a>)</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
<li><p><strong>startDt</strong> (<em>string</em>) â Selects sites based on whether data was collected at a point in time
beginning after startDt (start date). Dates must be in ISO-8601
Calendar Date format (for example: 1990-01-01).</p></li>
<li><p><strong>endDt</strong> (<em>string</em>) â The end date for the period of record. Dates must be in ISO-8601
Calendar Date format (for example: 1990-01-01).</p></li>
<li><p><strong>period</strong> (<em>string</em>) â Selects sites based on whether or not they were active between now
and a time in the past. For example, period=P10W will select sites
active in the last ten weeks.</p></li>
<li><p><strong>modifiedSince</strong> (<em>string</em>) â Returns only sites where site attributes or period of record data have
changed during the request period.</p></li>
<li><p><strong>parameterCd</strong> (<em>string</em><em> or </em><em>list</em>) â Returns only site data for those sites containing the requested USGS
parameter codes.</p></li>
<li><p><strong>siteType</strong> (<em>string</em><em> or </em><em>list</em>) â Restricts sites to those having one or more major and/or minor site
types, such as stream, spring or well. For a list of all valid site
types see <a class="reference external" href="https://help.waterdata.usgs.gov/site_tp_cd">https://help.waterdata.usgs.gov/site_tp_cd</a>
For example, siteType=âSTâ returns streams only.</p></li>
<li><p><strong>siteOutput</strong> (<em>string</em><em> (</em><em>'basic'</em><em> or </em><em>'expanded'</em><em>)</em>) â Indicates the richness of metadata you want for site attributes. Note
that for visually oriented formats like Google Map format, this
argument has no meaning. Note: for performance reasons,
siteOutput=expanded cannot be used if seriesCatalogOutput=true or with
any values for outputDataTypeCd.</p></li>
<li><p><strong>seriesCatalogOutput</strong> (<em>boolean</em>) â A switch that provides detailed period of record information for
certain output formats. The period of record indicates date ranges for
a certain kind of information about a site, for example the start and
end dates for a siteâs daily mean streamflow.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Site data from the NWIS web service</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get site information for a single site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_info</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s1">&#39;05114000&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get site information for multiple sites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_info</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;05114000&#39;</span><span class="p">,</span> <span class="s1">&#39;09423350&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_iv">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_iv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_iv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_iv" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get instantaneous values data from NWIS and return it as a DataFrame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If no start or end date are provided, only the most recent record
is returned.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>string</em>) â If the waterdata parameter startDT is supplied, it will overwrite the
start parameter (YYYY-MM-DD)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â If the waterdata parameter endDT is supplied, it will overwrite the
end parameter (YYYY-MM-DD)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get instantaneous discharge data for site 05114000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_iv</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;05114000&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2013-11-03&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2013-11-03&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">parameterCd</span><span class="o">=</span><span class="s1">&#39;00060&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_pmcodes">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_pmcodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameterCd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'All'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_pmcodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_pmcodes" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> containing all NWIS parameter codes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameterCd</strong> (<em>string</em><em> or </em><em>list</em>) â Accepts parameter codes or names</p></li>
<li><p><strong>partial</strong> (<em>boolean</em>) â Default is True (partial querying). If False, the function will query
only exact matches</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Data retrieved from the NWIS web service.</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get information about the &#39;00060&#39; pcode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_pmcodes</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">parameterCd</span><span class="o">=</span><span class="s1">&#39;00060&#39;</span><span class="p">,</span> <span class="n">partial</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get information about all &#39;Discharge&#39; pcodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_pmcodes</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">parameterCd</span><span class="o">=</span><span class="s1">&#39;Discharge&#39;</span><span class="p">,</span> <span class="n">partial</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_qwdata">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_qwdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wide_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_qwdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_qwdata" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get water sample data from qwdata service.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The NWIS qw data service is being deprecated. See this note from the
R package for more information:
<a class="reference external" href="https://doi-usgs.github.io/dataRetrieval/articles/qwdata_changes.html">https://doi-usgs.github.io/dataRetrieval/articles/qwdata_changes.html</a>
If you have additional questions about the qw data service,
email <a class="reference external" href="mailto:gs-w-IOW_PO_team&#37;&#52;&#48;usgs&#46;gov">gs-w-IOW_PO_team<span>&#64;</span>usgs<span>&#46;</span>gov</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>array</em><em> of </em><em>strings</em>) â If the qwdata parameter site_no is supplied, it will overwrite the
sites parameter</p></li>
<li><p><strong>start</strong> (<em>string</em>) â If the qwdata parameter begin_date is supplied, it will overwrite the
start parameter (YYYY-MM-DD)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â If the qwdata parameter end_date is supplied, it will overwrite the
end parameter (YYYY-MM-DD)</p></li>
<li><p><strong>multi_index</strong> (<em>boolean</em>) â If False, a dataframe with a single-level index (datetime) is returned</p></li>
<li><p><strong>wide_format</strong> (<em>boolean</em>) â If True, return data in wide format with multiple samples per row and
one row per time</p></li>
<li><p><strong>datetime_index</strong> (<em>boolean</em>) â If True, create a datetime index</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Times series data from the NWIS JSON</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># get water sample information for site 11447650</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_qwdata</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;11447650&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;2010-01-01&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2010-02-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_ratings">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_ratings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'base'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_ratings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_ratings" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Rating table for an active USGS streamgage retrieval.</p>
<p>Reads current rating table for an active USGS streamgage from NWISweb.
Data is retrieved from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site</strong> (<em>string</em>) â USGS site number.  This is usually an 8 digit number as a string.
If the nwis parameter site_no is supplied, it will overwrite the site
parameter</p></li>
<li><p><strong>base</strong> (<em>string</em>) â can be âbaseâ, âcorrâ, or âexsaâ</p></li>
<li><p><strong>county</strong> (<em>string</em>) â County IDs from county lookup or âALLâ</p></li>
<li><p><strong>categories</strong> (<em>list-like</em>) â List or comma delimited string of Two-letter category abbreviations</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Formatted requested data</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the rating table for USGS streamgage 01594440</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_ratings</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="s1">&#39;01594440&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_record">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wide_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'iv'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_record" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get data from NWIS and return it as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If no start or end date are provided, only the most recent record is
returned.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>list-like</em>) â List or comma delimited string of site.</p></li>
<li><p><strong>start</strong> (<em>string</em>) â Starting date of record (YYYY-MM-DD)</p></li>
<li><p><strong>end</strong> (<em>string</em>) â Ending date of record. (YYYY-MM-DD)</p></li>
<li><p><strong>service</strong> (<em>string</em>) â <ul>
<li><p>âivâ : instantaneous data</p></li>
<li><p>âdvâ : daily mean data</p></li>
<li><p>âqwdataâ : discrete samples</p></li>
<li><p>âsiteâ : site description</p></li>
<li><p>âmeasurementsâ : discharge measurements</p></li>
<li><p>âpeaksâ: discharge peaks</p></li>
<li><p>âgwlevelsâ: groundwater levels</p></li>
<li><p>âpmcodesâ: get parameter codes</p></li>
<li><p>âwater_useâ: get water use data</p></li>
<li><p>âratingsâ: get rating table</p></li>
</ul>
</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> containing requested data</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get latest instantaneous data from site 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;iv&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get latest daily mean data from site 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;dv&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get all discrete sample data from site 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;qwdata&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get site description for site 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;site&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get discharge measurements for site 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;measurements&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get discharge peaks for site 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;peaks&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get latest groundwater level for site 434400121275801</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;434400121275801&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;gwlevels&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get information about the discharge parameter code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">service</span><span class="o">=</span><span class="s1">&#39;pmcodes&#39;</span><span class="p">,</span> <span class="n">parameterCd</span><span class="o">=</span><span class="s1">&#39;00060&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get water use data for livestock nationally in 2010</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">service</span><span class="o">=</span><span class="s1">&#39;water_use&#39;</span><span class="p">,</span> <span class="n">years</span><span class="o">=</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get rating table for USGS streamgage 01585200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01585200&#39;</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;ratings&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_stats">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_stats" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Queries water services statistics information.</p>
<p>For more information about the water services statistics service, visit
<a class="reference external" href="https://waterservices.usgs.gov/rest/Statistics-Service.html">https://waterservices.usgs.gov/rest/Statistics-Service.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>string</em><em> or </em><em>list</em>) â USGS site number (or list of site numbers)</p></li>
<li><p><strong>Parameters</strong> (<em>Additional</em>) â </p></li>
<li><p><strong>---------------------</strong> â </p></li>
<li><p><strong>statReportType</strong> (<em>string</em>) â daily (default), monthly, or annual</p></li>
<li><p><strong>statTypeCd</strong> (<em>string</em>) â all, mean, max, min, median</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â Additional parameters that, if supplied, will be used as
query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Statistics data from the statistics service</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
<li><p><em>.. todo::</em> â fix date parsing</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get annual water statistics for a site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01646500&#39;</span><span class="p">,</span> <span class="n">statReportType</span><span class="o">=</span><span class="s1">&#39;annual&#39;</span><span class="p">,</span> <span class="n">statYearType</span><span class="o">=</span><span class="s1">&#39;water&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get monthly statistics for a site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sites</span><span class="o">=</span><span class="s1">&#39;01646500&#39;</span><span class="p">,</span> <span class="n">statReportType</span><span class="o">=</span><span class="s1">&#39;monthly&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.get_water_use">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">get_water_use</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">years</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#get_water_use"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.get_water_use" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Water use data retrieval from USGS (NWIS).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>years</strong> (<em>list-like</em>) â List or comma delimited string of years.  Must be years ending in 0 or
5, or âALLâ, which retrieves all available years</p></li>
<li><p><strong>state</strong> (<em>string</em>) â full name, abbreviation or id</p></li>
<li><p><strong>county</strong> (<em>string</em>) â County IDs from county lookup or âALLâ</p></li>
<li><p><strong>categories</strong> (<em>list-like</em>) â List or comma delimited string of Two-letter category abbreviations</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â Data from NWIS</p></li>
<li><p><strong>md</strong> (<a class="reference internal" href="utils.html#dataretrieval.utils.Metadata" title="dataretrieval.utils.Metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.utils.Metadata</span></code></a>) â A custom metadata object</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get total population for RI from the NWIS water use service</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_water_use</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">years</span><span class="o">=</span><span class="s1">&#39;2000&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;RI&#39;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="s1">&#39;TP&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get the national total water use for livestock in Bgal/day</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_water_use</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">years</span><span class="o">=</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get 2005 domestic water use for Apache County in Arizona</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">get_water_use</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">years</span><span class="o">=</span><span class="s1">&#39;2005&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;Arizona&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">counties</span><span class="o">=</span><span class="s1">&#39;001&#39;</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="s1">&#39;DO&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.preformat_peaks_response">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">preformat_peaks_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#preformat_peaks_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.preformat_peaks_response" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Datetime formatting for the âpeaksâ service response.</p>
<p>Function to format the datetime column of the âpeaksâ service response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>) â The data frame to format</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df</strong> â The formatted data frame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.query_waterdata">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">query_waterdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#query_waterdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.query_waterdata" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Queries waterdata.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.query_waterservices">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">query_waterservices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#query_waterservices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.query_waterservices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Queries waterservices.usgs.gov</p>
<p>For more documentation see <a class="reference external" href="https://waterservices.usgs.gov/rest/">https://waterservices.usgs.gov/rest/</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>User must specify one major filter: sites, stateCd, or bBox</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service</strong> (<em>string</em>) â String specifying the service to query: âsiteâ, âstatsâ, etc.</p></li>
<li><p><strong>bBox</strong> (<em>string</em>) â 7-digit Hydrologic Unit Code (HUC)</p></li>
<li><p><strong>startDT</strong> (<em>string</em>) â Start date (e.g., â2017-12-31â)</p></li>
<li><p><strong>endDT</strong> (<em>string</em>) â End date (e.g., â2018-01-01â)</p></li>
<li><p><strong>modifiedSince</strong> (<em>string</em>) â Used to return only sites where attributes or period of record data
have changed during the request period. String expected to be formatted
in ISO-8601 duration format (e.g., âP1Dâ for one day,
âP1Yâ for one year)</p></li>
<li><p><strong>**kwargs</strong> (<em>optional</em>) â If supplied, will be used as query parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>request</strong> â The response object from the API request to the web service</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">requests.models.Response</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dataretrieval.nwis.what_sites">
<span class="sig-prename descclassname"><span class="pre">dataretrieval.nwis.</span></span><span class="sig-name descname"><span class="pre">what_sites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dataretrieval/nwis.html#what_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dataretrieval.nwis.what_sites" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Search NWIS for sites within a region with specific data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>optional</em>) â Accepts the same parameters as <a class="reference internal" href="#dataretrieval.nwis.get_info" title="dataretrieval.nwis.get_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dataretrieval.nwis.get_info</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># get information about a single site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">what_sites</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s1">&#39;05114000&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># get information about sites with phosphorus in Ohio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">md</span> <span class="o">=</span> <span class="n">dataretrieval</span><span class="o">.</span><span class="n">nwis</span><span class="o">.</span><span class="n">what_sites</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">stateCd</span><span class="o">=</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span> <span class="n">parameterCd</span><span class="o">=</span><span class="s1">&#39;00665&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="streamstats.html" class="btn btn-neutral float-right" title="dataretrieval.streamstats" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="nadp.html" class="btn btn-neutral float-left" title="dataretrieval.nadp" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright .

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>