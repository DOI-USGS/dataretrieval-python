<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>USGS dataretrieval Python Package get_stats() Examples &mdash; dataretrieval 0.1.dev1+g9b6b630 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=743e02c5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="USGS dataretrieval Python Package get_iv() Examples" href="USGS_dataretrieval_UnitValues_Examples.html" />
    <link rel="prev" title="&lt;no title&gt;" href="USGS_dataretrieval_SiteInventory_Examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            dataretrieval
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../meta/installing.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#simple-uses-of-the-dataretrieval-package">Simple uses of the <code class="docutils literal notranslate"><span class="pre">dataretrieval</span></code> package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#example-notebooks-from-hydroshare">Example Notebooks from Hydroshare</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_DailyValues_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_dv()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_GroundwaterLevels_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_gwlevels()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_Measurements_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_discharge_measurements()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_ParameterCodes_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_pmcodes()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_Peaks_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_discharge_peaks()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_Ratings_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_ratings()</span></code> Examples</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_stats()</span></code> Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Install-the-Package">Install the Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Basic-Usage">Basic Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Interpreting-the-Result">Interpreting the Result</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Additional-Examples">Additional Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_UnitValues_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_iv()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_WaterSamples_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_qwdata()</span></code> Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="USGS_dataretrieval_WaterUse_Examples.html">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_water_use()</span></code> Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#using-dataretrieval-to-obtain-nation-trends-in-peak-annual-streamflow">Using <code class="docutils literal notranslate"><span class="pre">dataretrieval</span></code> to obtain nation trends in peak annual streamflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#duplicating-the-r-dataretrieval-vignettes-functionality">Duplicating the R <code class="docutils literal notranslate"><span class="pre">dataRetrieval</span></code> vignettes functionality</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../meta/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meta/license.html">License and Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dataretrieval</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Examples</a></li>
      <li class="breadcrumb-item active">USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_stats()</span></code> Examples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/USGS_dataretrieval_Statistics_Examples.nblink.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="USGS-dataretrieval-Python-Package-get_stats()-Examples">
<h1>USGS dataretrieval Python Package <code class="docutils literal notranslate"><span class="pre">get_stats()</span></code> Examples<a class="headerlink" href="#USGS-dataretrieval-Python-Package-get_stats()-Examples" title="Link to this heading"></a></h1>
<p>This notebook provides examples of using the Python dataretrieval package to retrieve statistics for observed variables at a United States Geological Survey (USGS) monitoring site. The dataretrieval package provides a collection of functions to get data from the USGS National Water Information System (NWIS) and other online sources of hydrology and water quality data, including the United States Environmental Protection Agency (USEPA).</p>
<section id="Install-the-Package">
<h2>Install the Package<a class="headerlink" href="#Install-the-Package" title="Link to this heading"></a></h2>
<p>Use the following code to install the package if it doesn’t exist already within your Jupyter Python environment.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>dataretrieval
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Defaulting to user installation because normal site-packages is not writeable
Requirement already satisfied: dataretrieval in /home/runner/.local/lib/python3.10/site-packages (0.1.dev1+g9b6b630)
Requirement already satisfied: requests in /home/runner/.local/lib/python3.10/site-packages (from dataretrieval) (2.32.3)
Requirement already satisfied: pandas==2.* in /home/runner/.local/lib/python3.10/site-packages (from dataretrieval) (2.2.2)
Requirement already satisfied: numpy&gt;=1.22.4 in /home/runner/.local/lib/python3.10/site-packages (from pandas==2.*-&gt;dataretrieval) (2.1.1)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /home/runner/.local/lib/python3.10/site-packages (from pandas==2.*-&gt;dataretrieval) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/lib/python3/dist-packages (from pandas==2.*-&gt;dataretrieval) (2022.1)
Requirement already satisfied: tzdata&gt;=2022.7 in /home/runner/.local/lib/python3.10/site-packages (from pandas==2.*-&gt;dataretrieval) (2024.1)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/runner/.local/lib/python3.10/site-packages (from requests-&gt;dataretrieval) (3.3.2)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/lib/python3/dist-packages (from requests-&gt;dataretrieval) (3.3)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /usr/lib/python3/dist-packages (from requests-&gt;dataretrieval) (1.26.5)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/lib/python3/dist-packages (from requests-&gt;dataretrieval) (2020.6.20)
Requirement already satisfied: six&gt;=1.5 in /usr/lib/python3/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas==2.*-&gt;dataretrieval) (1.16.0)
</pre></div></div>
</div>
<p>Load the package so you can use it along with other packages used in this notebook.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataretrieval</span> <span class="kn">import</span> <span class="n">nwis</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">ticker</span>
</pre></div>
</div>
</div>
</section>
<section id="Basic-Usage">
<h2>Basic Usage<a class="headerlink" href="#Basic-Usage" title="Link to this heading"></a></h2>
<p>The dataretrieval package has several functions that allow you to retrieve data from different web services. This examples uses the <code class="docutils literal notranslate"><span class="pre">get_stats()</span></code> function to retrieve statistics for observed variable(s) for a USGS monitoring site from USGS NWIS. The following arguments are available:</p>
<p>Arguments (Additional parameters, if supplied, will be used as query parameters).</p>
<ul class="simple">
<li><p><strong>sites</strong> (string or list of strings): A string or list of strings contining the USGS site identifiers for which to retrive data.</p></li>
<li><p><strong>parameterCd</strong> (string or list of strings): A list of USGS parameter codes for which to retrieve data.</p></li>
<li><p><strong>statReportType</strong> (string): The aggregation period for which statistics should be reported. Can be specified as ‘daily’ (default), ‘monthly’, or ‘annual’.</p></li>
<li><p><strong>statTypeCd</strong> (string): The type of statistic to be returned in the result. Can be specified as ‘all’, ‘mean’, ‘max’, ‘min’, or ‘median’</p></li>
</ul>
<section id="Example-1:-Get-all-of-the-annual-mean-discharge-data-for-a-single-site">
<h3>Example 1: Get all of the annual mean discharge data for a single site<a class="headerlink" href="#Example-1:-Get-all-of-the-annual-mean-discharge-data-for-a-single-site" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the parameters needed to retrieve data</span>
<span class="n">siteNumber</span> <span class="o">=</span> <span class="s2">&quot;02319394&quot;</span>
<span class="n">parameterCode</span> <span class="o">=</span> <span class="s2">&quot;00060&quot;</span> <span class="c1"># Discharge</span>

<span class="c1"># Retrieve the statistics</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">nwis</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="n">siteNumber</span><span class="p">,</span> <span class="n">parameterCd</span><span class="o">=</span><span class="n">parameterCode</span><span class="p">,</span> <span class="n">statReportType</span><span class="o">=</span><span class="s2">&quot;annual&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Retrieved &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot; data values.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Retrieved 20 data values.
</pre></div></div>
</div>
</section>
</section>
<section id="Interpreting-the-Result">
<h2>Interpreting the Result<a class="headerlink" href="#Interpreting-the-Result" title="Link to this heading"></a></h2>
<p>The result of calling the <code class="docutils literal notranslate"><span class="pre">get_stats()</span></code> function is an object that contains a Pandas data frame object and an associated metadata object. The Pandas data frame contains the statistics values for the site and observed variable requested.</p>
<p>Once you’ve got the data frame, there’s several useful things you can do to explore the data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the data frame as a table</span>
<span class="n">display</span><span class="p">(</span><span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>agency_cd</th>
      <th>site_no</th>
      <th>parameter_cd</th>
      <th>ts_id</th>
      <th>loc_web_ds</th>
      <th>year_nu</th>
      <th>mean_va</th>
      <th>count_nu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2001</td>
      <td>1404.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>1</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2002</td>
      <td>795.9</td>
      <td>365</td>
    </tr>
    <tr>
      <th>2</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2003</td>
      <td>3395.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>3</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2004</td>
      <td>2471.0</td>
      <td>366</td>
    </tr>
    <tr>
      <th>4</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2005</td>
      <td>3764.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>5</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2006</td>
      <td>1029.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>6</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2007</td>
      <td>688.5</td>
      <td>365</td>
    </tr>
    <tr>
      <th>7</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2008</td>
      <td>2186.0</td>
      <td>366</td>
    </tr>
    <tr>
      <th>8</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2009</td>
      <td>2620.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>9</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2012</td>
      <td>784.3</td>
      <td>366</td>
    </tr>
    <tr>
      <th>10</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2013</td>
      <td>2929.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>11</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2014</td>
      <td>2847.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>12</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2015</td>
      <td>2258.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>13</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2016</td>
      <td>2125.0</td>
      <td>366</td>
    </tr>
    <tr>
      <th>14</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2017</td>
      <td>1215.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>15</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2018</td>
      <td>1961.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>16</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2019</td>
      <td>1684.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>17</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2020</td>
      <td>1665.0</td>
      <td>366</td>
    </tr>
    <tr>
      <th>18</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2021</td>
      <td>3582.0</td>
      <td>365</td>
    </tr>
    <tr>
      <th>19</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2022</td>
      <td>1801.0</td>
      <td>365</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Show the data types of the columns in the resulting data frame.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
agency_cd        object
site_no          object
parameter_cd     object
ts_id             int64
loc_web_ds      float64
year_nu           int64
mean_va         float64
count_nu          int64
dtype: object
</pre></div></div>
</div>
<p>Make a quick time series plot of the annual mean values.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;year_nu&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;mean_va&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Annual mean discharge (cfs)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;Annual mean discharge (cfs)&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_USGS_dataretrieval_Statistics_Examples_13_1.png" src="../_images/examples_USGS_dataretrieval_Statistics_Examples_13_1.png" />
</div>
</div>
<p>The other part of the result returned from the <code class="docutils literal notranslate"><span class="pre">get_stats()</span></code> function is a metadata object that contains information about the query that was executed to return the data. For example, you can access the URL that was assembled to retrieve the requested data from the USGS web service. The USGS web service responses contain a descriptive header that defines and can be helpful in interpreting the contents of the response.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The query URL used to retrieve the data from NWIS was: &quot;</span> <span class="o">+</span> <span class="n">x1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The query URL used to retrieve the data from NWIS was: https://waterservices.usgs.gov/nwis/stat?sites=02319394&amp;parameterCd=00060&amp;statReportType=annual&amp;format=rdb
</pre></div></div>
</div>
</section>
<section id="Additional-Examples">
<h2>Additional Examples<a class="headerlink" href="#Additional-Examples" title="Link to this heading"></a></h2>
<section id="Example-2:-Get-all-of-the-annual-mean-discharge-data-for-two-sites">
<h3>Example 2: Get all of the annual mean discharge data for two sites<a class="headerlink" href="#Example-2:-Get-all-of-the-annual-mean-discharge-data-for-two-sites" title="Link to this heading"></a></h3>
<p>Note: Passing multiple parameters (temperature and flow) looks like it returns only what is available (in this example flow, 00060)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x2</span> <span class="o">=</span> <span class="n">nwis</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;02319394&quot;</span><span class="p">,</span> <span class="s2">&quot;02171500&quot;</span><span class="p">],</span> <span class="n">parameterCd</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;00010&quot;</span><span class="p">,</span> <span class="s2">&quot;00060&quot;</span><span class="p">],</span>
                    <span class="n">statReportType</span><span class="o">=</span><span class="s2">&quot;annual&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">x2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>agency_cd</th>
      <th>site_no</th>
      <th>parameter_cd</th>
      <th>ts_id</th>
      <th>loc_web_ds</th>
      <th>year_nu</th>
      <th>mean_va</th>
      <th>count_nu</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00010</td>
      <td>306223</td>
      <td>NaN</td>
      <td>2023</td>
      <td>20.12</td>
      <td>365</td>
    </tr>
    <tr>
      <th>1</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>1943</td>
      <td>3026.00</td>
      <td>365</td>
    </tr>
    <tr>
      <th>2</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>1944</td>
      <td>3966.00</td>
      <td>366</td>
    </tr>
    <tr>
      <th>3</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>1945</td>
      <td>2577.00</td>
      <td>365</td>
    </tr>
    <tr>
      <th>4</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>1946</td>
      <td>3274.00</td>
      <td>365</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>91</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2018</td>
      <td>1961.00</td>
      <td>365</td>
    </tr>
    <tr>
      <th>92</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2019</td>
      <td>1684.00</td>
      <td>365</td>
    </tr>
    <tr>
      <th>93</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2020</td>
      <td>1665.00</td>
      <td>366</td>
    </tr>
    <tr>
      <th>94</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2021</td>
      <td>3582.00</td>
      <td>365</td>
    </tr>
    <tr>
      <th>95</th>
      <td>USGS</td>
      <td>02319394</td>
      <td>00060</td>
      <td>26452</td>
      <td>NaN</td>
      <td>2022</td>
      <td>1801.00</td>
      <td>365</td>
    </tr>
  </tbody>
</table>
<p>96 rows × 8 columns</p>
</div></div>
</div>
</section>
<section id="Example-3:-Request-daily-mean-and-median-values-for-temperature-and-discharge-for-a-site-for-years-between-2000-and-2007">
<h3>Example 3: Request daily mean and median values for temperature and discharge for a site for years between 2000 and 2007<a class="headerlink" href="#Example-3:-Request-daily-mean-and-median-values-for-temperature-and-discharge-for-a-site-for-years-between-2000-and-2007" title="Link to this heading"></a></h3>
<p>NOTE: The startDt and endDt parameters are not directly supported by this function but are turned into query parameters in the request to USGS NWIS, which means that they can be used to limit the time window requested.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x3</span> <span class="o">=</span> <span class="n">nwis</span><span class="o">.</span><span class="n">get_stats</span><span class="p">(</span><span class="n">sites</span><span class="o">=</span><span class="s2">&quot;02171500&quot;</span><span class="p">,</span> <span class="n">parameterCd</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;00010&quot;</span><span class="p">,</span> <span class="s2">&quot;00060&quot;</span><span class="p">],</span>
                    <span class="n">statReportType</span><span class="o">=</span><span class="s2">&quot;daily&quot;</span><span class="p">,</span> <span class="n">statTypeCd</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">],</span>
                    <span class="n">startDt</span><span class="o">=</span><span class="s2">&quot;2000&quot;</span><span class="p">,</span> <span class="n">endDt</span><span class="o">=</span><span class="s2">&quot;2007&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">x3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>agency_cd</th>
      <th>site_no</th>
      <th>parameter_cd</th>
      <th>ts_id</th>
      <th>loc_web_ds</th>
      <th>month_nu</th>
      <th>day_nu</th>
      <th>begin_yr</th>
      <th>end_yr</th>
      <th>count_nu</th>
      <th>mean_va</th>
      <th>p50_va</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00010</td>
      <td>306223</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>2006</td>
      <td>2006</td>
      <td>1</td>
      <td>9.5</td>
      <td>9.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00010</td>
      <td>306223</td>
      <td>NaN</td>
      <td>1</td>
      <td>2</td>
      <td>2006</td>
      <td>2006</td>
      <td>1</td>
      <td>9.7</td>
      <td>9.7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00010</td>
      <td>306223</td>
      <td>NaN</td>
      <td>1</td>
      <td>3</td>
      <td>2006</td>
      <td>2006</td>
      <td>1</td>
      <td>10.3</td>
      <td>10.3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00010</td>
      <td>306223</td>
      <td>NaN</td>
      <td>1</td>
      <td>4</td>
      <td>2006</td>
      <td>2006</td>
      <td>1</td>
      <td>10.1</td>
      <td>10.1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00010</td>
      <td>306223</td>
      <td>NaN</td>
      <td>1</td>
      <td>5</td>
      <td>2006</td>
      <td>2006</td>
      <td>1</td>
      <td>10.3</td>
      <td>10.3</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>708</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>12</td>
      <td>27</td>
      <td>2001</td>
      <td>2008</td>
      <td>8</td>
      <td>631.0</td>
      <td>628.0</td>
    </tr>
    <tr>
      <th>709</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>12</td>
      <td>28</td>
      <td>2001</td>
      <td>2008</td>
      <td>8</td>
      <td>616.0</td>
      <td>626.0</td>
    </tr>
    <tr>
      <th>710</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>12</td>
      <td>29</td>
      <td>2001</td>
      <td>2008</td>
      <td>8</td>
      <td>605.0</td>
      <td>624.0</td>
    </tr>
    <tr>
      <th>711</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>12</td>
      <td>30</td>
      <td>2001</td>
      <td>2008</td>
      <td>8</td>
      <td>610.0</td>
      <td>629.0</td>
    </tr>
    <tr>
      <th>712</th>
      <td>USGS</td>
      <td>02171500</td>
      <td>00060</td>
      <td>125737</td>
      <td>NaN</td>
      <td>12</td>
      <td>31</td>
      <td>2001</td>
      <td>2008</td>
      <td>7</td>
      <td>589.0</td>
      <td>621.0</td>
    </tr>
  </tbody>
</table>
<p>713 rows × 12 columns</p>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="USGS_dataretrieval_SiteInventory_Examples.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="USGS_dataretrieval_UnitValues_Examples.html" class="btn btn-neutral float-right" title="USGS dataretrieval Python Package get_iv() Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>